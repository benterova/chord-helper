/* === Retro Blue Media Player Theme (Y2K / Frutiger Aero) === */

.aero-widget-dark {
    /* Layout Dimensions */
    width: 580px;
    height: 320px;
    transform-origin: top left;
    position: relative;
    /* Animation */
    animation: widgetPop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    z-index: 10;

    /* Clear default backgrounds */
    background: none;
    border: none;
    box-shadow: none;
}

/* 
   THE DEVICE BODY 
   - Bean / Organic Shape
   - Glossy Blue Finish
*/
.aero-widget-dark::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;

    /* The Shape - Wider Kidney */
    border-radius: 120px 120px 140px 140px / 100px 100px 160px 160px;

    /* The Finish (Glossy Blue) */
    background:
        /* Top Highlight */
        radial-gradient(ellipse at 50% 10%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0) 50%),
        /* Bottom Glow */
        radial-gradient(ellipse at 50% 90%, rgba(0, 255, 255, 0.4) 0%, rgba(0, 100, 255, 0) 60%),
        /* Main Body Gradient */
        linear-gradient(180deg,
            #63b4ff 0%,
            #2080ff 40%,
            #005bea 70%,
            #003366 100%);

    border: 2px solid rgba(255, 255, 255, 0.6);
    border-bottom: 5px solid rgba(0, 0, 0, 0.3);

    box-shadow:
        /* Deep Drop Shadow */
        0 20px 50px rgba(0, 30, 80, 0.6),
        /* Inner Glow */
        inset 0 0 30px rgba(255, 255, 255, 0.4);

    z-index: 0;
    pointer-events: none;
}

/* Device "Wings" or White Accents (Simulating the white plastic parts) */
.aero-widget-dark::after {
    content: '';
    position: absolute;
    top: 15px;
    left: 15px;
    right: 15px;
    bottom: 15px;
    border-radius: 100px 100px 120px 120px / 80px 80px 140px 140px;
    background:
        linear-gradient(90deg,
            rgba(255, 255, 255, 0.2) 0%,
            transparent 15%,
            transparent 85%,
            rgba(255, 255, 255, 0.2) 100%);
    pointer-events: none;
    z-index: 1;
}

.aero-widget-content {
    position: relative;
    z-index: 5;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    padding-bottom: 50px;
    /* Space for bottom controls */
}

/* === THE SCREEN (Central & Recessed) === */
.aero-lcd-container {
    width: 300px;
    height: 150px;
    background: #001020;
    /* More "eye" shaped */
    border-radius: 50% / 30%;

    /* Recessed Bezel */
    box-shadow:
        inset 0 5px 15px rgba(0, 0, 0, 0.9),
        0 2px 0 rgba(255, 255, 255, 0.4);

    border: 5px solid #003366;

    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: -10px;
}

/* The actual LCD pixels */
.aero-lcd-screen {
    width: 90%;
    height: 85%;
    background:
        /* Pixel Grid */
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.2) 3px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(0, 0, 0, 0.2) 3px),
        /* Backlight */
        radial-gradient(circle at 50% 50%, #00ccff 0%, #0055aa 100%);

    border-radius: 40% / 20%;
    /* Match container shape somewhat */
    padding: 15px 30px;
    /* Padding to keep text away from curved edges */
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);

    color: #e0ffff;
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 3px rgba(100, 255, 255, 0.8);

    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
}

/* Glass Glare over Screen */
/* Glass Glare over Screen */
.aero-lcd-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 5%;
    width: 90%;
    height: 60%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.1) 40%, rgba(255, 255, 255, 0) 100%);
    border-radius: 50% / 50%;
    pointer-events: none;
    filter: blur(4px);
}

/* === CONTROLS === */

.player-controls-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 20;
}

/* Left Cluster: Transport (Vertical) */
.control-cluster-left {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    pointer-events: auto;

    /* Background grouping "highlight" */
    background: radial-gradient(closest-side, rgba(255, 255, 255, 0.15), transparent);
    padding: 20px 0;
    border-radius: 40px;
}

/* Right Cluster: Actions (Vertical) */
.control-cluster-right {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    pointer-events: auto;

    /* Background grouping "highlight" */
    background: radial-gradient(closest-side, rgba(255, 255, 255, 0.15), transparent);
    padding: 20px 0;
    border-radius: 40px;
}

/* Bottom Bar: Settings (Horizontal) */
.control-bar-bottom {
    position: absolute;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    pointer-events: auto;

    background: rgba(0, 0, 0, 0.2);
    padding: 8px 15px;
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
}


/* === BUTTON STYLES (Silver / White Tactile) === */

.silver-btn {
    background: linear-gradient(145deg, #ffffff 0%, #d0d0d0 50%, #a0a0a0 100%);
    border: 2px solid #555;
    border-top-color: #eee;
    border-left-color: #ccc;
    border-radius: 50%;
    box-shadow:
        0 5px 10px rgba(0, 0, 0, 0.5),
        inset 0 2px 5px rgba(255, 255, 255, 1);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #444;
    transition: all 0.1s;
    position: relative;
    z-index: 10;
    font-weight: bold;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
}

.silver-btn:active {
    transform: translateY(2px) scale(0.98);
    box-shadow:
        0 2px 5px rgba(0, 0, 0, 0.4),
        inset 0 3px 8px rgba(0, 0, 0, 0.3);
    background: linear-gradient(145deg, #c0c0c0 0%, #e0e0e0 100%);
}

.silver-btn-large {
    width: 70px;
    height: 70px;
    font-size: 16px;
    color: #003366;
}

.silver-btn-small {
    width: 45px;
    height: 45px;
    font-size: 18px;
    /* For arrows */
}

.silver-btn-pill {
    width: 50px;
    height: 30px;
    border-radius: 15px;
    font-size: 10px;
    color: #333;
    background: linear-gradient(180deg, #f0f0f0 0%, #b0b0b0 100%);
}

.silver-btn-pill.active {
    background: linear-gradient(180deg, #ccffff 0%, #00ccff 100%);
    box-shadow: 0 0 10px #00ffff, inset 0 0 5px #fff;
    border-color: #0099cc;
    color: #003366;
}

/* Icons/Text adjustments */
.silver-btn i,
.silver-btn span {
    filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.5));
}

/* LCD Content Adjustments for new shape */
.lcd-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    margin-top: auto;
    /* Push to bottom */
    border-top: 1px solid rgba(0, 255, 255, 0.2);
    padding-top: 4px;
}

.lcd-label {
    font-size: 10px;
    color: #88ccff;
}

.lcd-value {
    font-size: 12px;
    font-weight: bold;
    color: #fff;
}

/* === CLIPPY ASSISTANT === */
.clippy-container {
    position: absolute;
    bottom: 20px;
    right: -120px;
    /* Hidden state */
    width: 200px;
    height: 300px;
    z-index: -1;
    /* Behind the widget */
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    pointer-events: none;
    /* Ignore clicks when hidden */
    opacity: 0;
}

.clippy-container.visible {
    right: -180px;
    /* Pop out to the right */
    opacity: 1;
    pointer-events: auto;
    z-index: 100;
    /* Pop IN FRONT when visible, or keep behind if "peeking" is desired. 
                     If we want him "behind" the player but visible, we need the player to not clip overflow. 
                     The player has 'overflow: visible' by default on .aero-widget-dark? 
                     Actually .aero-widget-dark has no overflow set, so visible.
                     But clippy needs to be positioned relative to the container. 
                  */
}

.clippy-scaling-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    animation: float 3s ease-in-out infinite;
}

.clippy-image {
    width: 150px;
    height: auto;
    position: absolute;
    bottom: 0;
    right: 0;
    filter: drop-shadow(5px 5px 10px rgba(0, 0, 0, 0.3));
}

.clippy-bubble {
    position: absolute;
    bottom: 140px;
    right: 80px;
    width: 220px;
    background: #ffffe0;
    /* Post-it yellow */
    border: 1px solid #000;
    border-radius: 5px;
    padding: 10px;
    box-shadow: 5px 5px 0 rgba(0, 0, 0, 0.2);
    font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
    font-size: 12px;
    color: #000;
    z-index: 101;
}

.clippy-bubble::after {
    content: '';
    position: absolute;
    bottom: -10px;
    right: 20px;
    border-width: 10px 10px 0;
    border-style: solid;
    border-color: #ffffe0 transparent;
    display: block;
    width: 0;
}

.clippy-bubble::before {
    content: '';
    position: absolute;
    bottom: -11px;
    right: 20px;
    border-width: 11px 11px 0;
    border-style: solid;
    border-color: #000 transparent;
    display: block;
    width: 0;
}

.clippy-bubble-content strong {
    display: block;
    margin-bottom: 5px;
    font-size: 14px;
}

.clippy-bubble-content ul {
    margin: 5px 0;
    padding-left: 20px;
    list-style-type: square;
}

.clippy-close-btn {
    margin-top: 8px;
    background: #eee;
    border: 1px solid #999;
    padding: 2px 8px;
    cursor: pointer;
    font-family: inherit;
    font-size: 11px;
    width: 100%;
    transition: background 0.2s;
}

.clippy-close-btn:hover {
    background: #ddd;
}